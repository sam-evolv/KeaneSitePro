/* ===== MOBILE ONLY ===== */
@media (max-width: 768px) {
  html, body { margin:0; padding:0; background:#000; }

  /* Fixed header with safe-area padding; readable after scroll */
  .site-header {
    position: fixed; top: 0; left: 0; right: 0;
    padding-top: max(0px, env(safe-area-inset-top)); /* prevent cut-off under sensor housing */
    z-index: 10000;
    background: transparent;
    transition: background-color 200ms ease;
  }
  .site-header--scrolled { background: rgba(0,0,0,0.92); }

  /* High-contrast hamburger: visible over any footage */
  [data-testid="button-mobile-menu"] {
    position: relative; z-index: 10002;
    -webkit-tap-highlight-color: transparent;
    background: rgba(0,0,0,0.45);
    backdrop-filter: blur(3px);
    border-radius: 10px;
    padding: 8px 10px;
  }
  /* Hide any separate X - but not the React close button */
  .nav-close, .menu-close, .close-btn { display: none !important; }

  /* HERO: true full-bleed on iOS/Android with no bars */
  /* Force exact viewport dimensions with strict height constraints - highest specificity */
  section.hero, section#home.hero, .hero, .hero__media, .hero-video {
    position: relative !important; 
    width: 100% !important;
    height: 100svh !important;    /* force small/visible viewport height */
    max-height: 100svh !important; /* absolutely prevent exceeding viewport */
    min-height: 100svh !important; /* prevent shrinking below viewport */
    overflow: hidden !important; 
    background: #000 !important; 
    margin: 0 !important;
    box-sizing: border-box !important;
  }
  @supports (height: 100dvh) {
    section.hero, section#home.hero, .hero, .hero__media, .hero-video { 
      height: 100dvh !important;  /* force dynamic viewport when supported */
      max-height: 100dvh !important; /* absolutely prevent exceeding viewport */
      min-height: 100dvh !important; /* prevent shrinking below viewport */
    }
  }

  /* Video must fill container */
  .hero video, .hero__media video, .hero-video video {
    width: 100%; height: 100%;
    display: block;
    object-fit: cover; object-position: center center;
    background:#000;
  }
  .hero video::-webkit-media-controls,
  .hero video::-webkit-media-controls-enclosure { display:none !important; }

  /* Perfect overlay centering with CSS Grid - constrained to viewport */
  .hero__content {
    position: absolute; 
    top: calc(var(--header-h, 64px) + env(safe-area-inset-top, 0px));
    left: 16px;
    right: 16px;
    bottom: 16px;
    display: grid; 
    place-items: center;
    text-align: center;
    pointer-events: none;
    /* Force content to fit within remaining viewport space */
    max-height: calc(100svh - var(--header-h, 64px) - env(safe-area-inset-top, 0px) - 16px);
    overflow: hidden;
    box-sizing: border-box;
  }
  @supports (height: 100dvh) {
    .hero__content {
      max-height: calc(100dvh - var(--header-h, 64px) - env(safe-area-inset-top, 0px) - 16px);
    }
  }
  .hero__content > * { pointer-events: auto; }
  
  /* Perfect logo centering for mobile - override any brand/logo styles */
  .hero__content .hero-logo {
    position: static !important;
    margin: 0 auto !important;
    display: block !important;
    height: 15rem !important; /* 240px - equivalent to h-60 */
    width: auto !important;
    object-fit: contain !important;
    inset: auto !important;
    transform: none !important;
  }
  
  /* Ensure all hero content has symmetrical spacing */
  .hero__content > * + * {
    margin-top: 1.5rem;
  }
  
  /* Override any conflicting brand/logo positioning for hero logos */
  .hero .hero-logo,
  .hero__content .hero-logo {
    position: static !important;
    inset: auto !important;
    top: auto !important;
    left: auto !important;
    right: auto !important;
    bottom: auto !important;
  }

  /* Remove any gap between hero and services */
  #services, .section-services { margin-top: 0 !important; }

  /* Menu panel: opaque + smooth; always readable */
  .mobile-menu-overlay {
    position: fixed; left:0; right:0;
    top: calc(env(safe-area-inset-top, 0px) + var(--header-h, 56px));
    height: calc(100dvh - var(--header-h, 56px));
    background: rgba(0,0,0,0.96);
    z-index: 10001;
    opacity: 0; transform: translateY(-8px);
    pointer-events: none;
    transition: opacity 220ms ease, transform 220ms ease;
  }
  .mobile-menu-overlay.menu-open {
    opacity:1; transform: translateY(0); pointer-events:auto;
  }

  /* Ensure page content sits below header layer */
  main, .page, .section { position: relative; z-index: 1; }
}