/* -------- Mobile-only scope -------- */
@media (max-width: 768px) {
  /* 1) Header + Menu layering and contrast */
  .site-header {
    position: sticky; top: 0; z-index: 10000;
    will-change: background-color, transform;
    transition: background-color 200ms ease;
    background: rgba(0,0,0,0.6); /* initial transparent look at page top */
  }
  .site-header.header--scrolled {
    background: rgba(0,0,0,0.92); /* legible after scroll */
  }

  /* Menu panel must be opaque and readable everywhere - React overlay */
  [data-mobile-menu-overlay] {
    position: fixed; inset: 0 0 auto 0;
    top: var(--header-h, 0px);
    height: calc(100dvh - var(--header-h, 0px));
    background: rgba(0,0,0,0.96);  /* opaque */
    -webkit-backdrop-filter: none;
    backdrop-filter: none;
    z-index: 10001;

    /* smooth slide+fade */
    opacity: 0;
    transform: translateY(-8px);
    pointer-events: none;
    transition: opacity 220ms ease, transform 220ms ease;
  }
  [data-mobile-menu-overlay][data-menu-open="true"] {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  /* Ensure menu links are readable */
  [data-mobile-menu-overlay] a, [data-mobile-menu-overlay] button {
    color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.35);
  }

  /* React manages close button - no need to hide since it's controlled by state */

  /* 2) Hamburger (toggle) must stay above hero - React button */
  [data-testid="button-mobile-menu"] {
    position: relative; z-index: 10002;
    -webkit-tap-highlight-color: transparent;
  }

  /* 3) Hero must fill viewport without black strip */
  .hero,
  .hero__media,
  .hero-video {
    position: relative;
    width: 100%;
    min-height: calc(100dvh - var(--header-h, 0px));
    height: calc(100svh - var(--header-h, 0px)); /* handles iOS toolbar */
    overflow: hidden;
    background: #000; /* safety */
  }
  .hero video,
  .hero__media video,
  .hero-video video {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
    object-position: center center;
    background: #000;
  }

  /* 4) Center hero overlay content precisely */
  .hero__content {
    position: absolute; inset: 0;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    text-align: center; padding: 16px;
    transform: none !important; left: 0 !important; right: 0 !important; margin: 0 auto !important;
    pointer-events: none;
  }
  .hero__content * { pointer-events: auto; }

  .hero__logo, .hero__content .logo {
    display: block; margin: 0 auto;
  }

  /* 5) Services section should sit below header layer (no z-index fights) */
  .section-services { position: relative; z-index: 1; }

  /* 6) Hide any UA media controls if they leak through */
  .hero video::-webkit-media-controls,
  .hero video::-webkit-media-controls-enclosure { display: none !important; }
}